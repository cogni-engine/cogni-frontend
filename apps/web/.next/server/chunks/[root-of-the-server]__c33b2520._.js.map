{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///Users/air13/code/cogni/cogni-frontend/apps/web/src/app/api/copilotkit/route.ts"],"sourcesContent":["import {\n  CopilotRuntime,\n  OpenAIAdapter,\n  copilotRuntimeNextJSAppRouterEndpoint,\n} from '@copilotkit/runtime';\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { createServerClient } from '@supabase/ssr';\n\nconst serviceAdapter = new OpenAIAdapter();\nconst runtime = new CopilotRuntime();\n\nexport const POST = async (req: NextRequest) => {\n  // Verify user is authenticated - create client directly from request (faster than await cookies())\n  const supabase = createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll: () =>\n          req.cookies.getAll().map(c => ({ name: c.name, value: c.value })),\n        setAll: () => {}, // No need to set cookies for auth check\n      },\n    }\n  );\n\n  const {\n    data: { user },\n    error: authError,\n  } = await supabase.auth.getUser();\n\n  console.log('user', user);\n\n  if (authError || !user) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  const { handleRequest } = copilotRuntimeNextJSAppRouterEndpoint({\n    runtime,\n    serviceAdapter,\n    endpoint: '/api/copilotkit',\n  });\n\n  return handleRequest(req);\n};\n"],"names":[],"mappings":";;;;AAAA;AAMA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB,IAAI,gbAAa;AACxC,MAAM,UAAU,IAAI,ibAAc;AAE3B,MAAM,OAAO,OAAO;IACzB,mGAAmG;IACnG,MAAM,WAAW,IAAA,oVAAkB,sUAGjC;QACE,SAAS;YACP,QAAQ,IACN,IAAI,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC,CAAA,IAAK,CAAC;wBAAE,MAAM,EAAE,IAAI;wBAAE,OAAO,EAAE,KAAK;oBAAC,CAAC;YACjE,QAAQ,KAAO;QACjB;IACF;IAGF,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,OAAO,SAAS,EACjB,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,QAAQ,GAAG,CAAC,QAAQ;IAEpB,IAAI,aAAa,CAAC,MAAM;QACtB,OAAO,oYAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACpE;IAEA,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,wcAAqC,EAAC;QAC9D;QACA;QACA,UAAU;IACZ;IAEA,OAAO,cAAc;AACvB","debugId":null}}]
}